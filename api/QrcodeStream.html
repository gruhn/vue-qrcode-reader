<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>QrcodeStream | Vue Qrcode Reader</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="A set of Vue.js components for detecting and decoding QR codes.">
    <link rel="preload" href="/vue-qrcode-reader/assets/css/0.styles.9a04e4f3.css" as="style"><link rel="preload" href="/vue-qrcode-reader/assets/js/app.ac04d667.js" as="script"><link rel="preload" href="/vue-qrcode-reader/assets/js/4.e0add0b8.js" as="script"><link rel="preload" href="/vue-qrcode-reader/assets/js/21.7067306f.js" as="script"><link rel="preload" href="/vue-qrcode-reader/assets/js/13.7bcefd54.js" as="script"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/1.850b9c3b.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/10.6cd874c8.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/11.5b92e850.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/12.a48c2920.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/14.5ff7692b.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/15.2475077c.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/16.4bd32040.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/17.b1197647.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/18.c624bce9.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/19.74506985.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/2.0bc6d647.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/20.d75ee614.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/22.723547ff.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/23.6f040db2.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/24.bd0f87b2.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/25.d3ca9031.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/26.68d45c5b.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/27.3287398b.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/28.58c4e696.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/29.1d1549f2.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/30.80d5354f.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/31.1aef37f5.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/32.60ff439c.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/33.6ea3ef34.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/34.2c2c684f.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/5.59bee0a2.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/6.abc44904.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/7.dc789e9f.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/8.0418beda.js"><link rel="prefetch" href="/vue-qrcode-reader/assets/js/9.f796cf86.js">
    <link rel="stylesheet" href="/vue-qrcode-reader/assets/css/0.styles.9a04e4f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-qrcode-reader/" class="home-link router-link-active"><!----> <span class="site-name">Vue Qrcode Reader</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-qrcode-reader/demos/DecodeAll.html" class="nav-link">
  Demos
</a></div><div class="nav-item"><a href="/vue-qrcode-reader/api/QrcodeStream.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Component APIs
</a></div> <a href="https://github.com/gruhn/vue-qrcode-reader" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-qrcode-reader/demos/DecodeAll.html" class="nav-link">
  Demos
</a></div><div class="nav-item"><a href="/vue-qrcode-reader/api/QrcodeStream.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Component APIs
</a></div> <a href="https://github.com/gruhn/vue-qrcode-reader" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/vue-qrcode-reader/api/QrcodeStream.html" aria-current="page" class="active sidebar-link">QrcodeStream</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-qrcode-reader/api/QrcodeStream.html#events" class="sidebar-link">Events</a></li><li class="sidebar-sub-header"><a href="/vue-qrcode-reader/api/QrcodeStream.html#props" class="sidebar-link">Props</a></li><li class="sidebar-sub-header"><a href="/vue-qrcode-reader/api/QrcodeStream.html#slots" class="sidebar-link">Slots</a></li></ul></li><li><a href="/vue-qrcode-reader/api/QrcodeDropZone.html" class="sidebar-link">QrcodeDropZone</a></li><li><a href="/vue-qrcode-reader/api/QrcodeCapture.html" class="sidebar-link">QrcodeCapture</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="qrcodestream"><a href="#qrcodestream" class="header-anchor">#</a> QrcodeStream</h1> <h2 id="events"><a href="#events" class="header-anchor">#</a> Events</h2> <h3 id="decode"><a href="#decode" class="header-anchor">#</a> <code>decode</code></h3> <ul><li><strong>Payload Type:</strong> <code>String</code></li></ul> <p>Once a stream from the users camera is loaded, it's displayed and continuously scanned for QR codes. Results are indicated by the <code>decode</code> event.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span> <span class="token attr-name">@decode</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onDecode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">onDecode</span> <span class="token punctuation">(</span><span class="token parameter">decodedString</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you scan the same QR code multiple times in a row, <code>decode</code> is still only emitted once. When you hold a QR code in the camera, frames are actually decoded multiple times a second but you don't want to be flooded with <code>decode</code> events that often. That's why the last decoded QR code is always cached and only new results are propagated. However changing the value of <code>camera</code> resets this internal cache.</p></div> <h3 id="detect"><a href="#detect" class="header-anchor">#</a> <code>detect</code></h3> <ul><li><strong>Payload Type:</strong> <code>Promise&lt;Object&gt;</code></li></ul> <p>The <code>detect</code> event is basically a verbose version of <code>decode</code>. <code>decode</code> only gives you the string encoded by QR codes. <code>detect</code> on the other hand ...</p> <ul><li>is always emitted before <code>decode</code></li> <li>gives you the unprocessed raw image data</li> <li>gives you the coordinates of the QR code in the camera frame</li> <li>does NOT silently fail in case of errors</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span> <span class="token attr-name">@detect</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onDetect<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">onDetect</span> <span class="token punctuation">(</span><span class="token parameter">promise</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>
        imageData<span class="token punctuation">,</span>    <span class="token comment">// raw image data of image/frame</span>
        content<span class="token punctuation">,</span>      <span class="token comment">// decoded String</span>
        location      <span class="token comment">// QR code coordinates</span>
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> promise

      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="init"><a href="#init" class="header-anchor">#</a> <code>init</code></h3> <ul><li><strong>Payload Type:</strong> <code>Promise&lt;MediaTrackCapabilities&gt;</code></li></ul> <p>It might take a while before the component is ready and the scanning process starts. The user has to be asked for camera access permission first and the camera stream has to be loaded.</p> <p>If you want to show a loading indicator, you can listen for the <code>init</code> event. It's emitted as soon as the component is mounted. It carries a promise which resolves with the cameras <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack/getCapabilities" target="_blank" rel="noopener noreferrer">MediaTrackCapabilities<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> when everything is ready. The promise is rejected if initialization fails. This can have <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Exceptions" target="_blank" rel="noopener noreferrer">a couple of reasons<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>In Chrome you can't prompt users for permissions a second time. Once denied, users can only manually grant them. Make sure your users understand why you need access to their camera <strong>before</strong> you mount this component. Otherwise they might panic and deny and then get frustrated because they don't know how to change their decision.</p></div> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span> <span class="token attr-name">@init</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onInit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">onInit</span> <span class="token punctuation">(</span><span class="token parameter">promise</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// show loading indicator</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> capabilities <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> promise

      <span class="token comment">// successfully initialized</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'NotAllowedError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// user denied camera access permisson</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'NotFoundError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// no suitable camera device installed</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'NotSupportedError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// page is not served over HTTPS (or localhost)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'NotReadableError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// maybe camera is already in use</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'OverconstrainedError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// did you requested the front camera although there is none?</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'StreamApiNotSupportedError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// browser seems to be lacking features</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      <span class="token comment">// hide loading indicator</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="props"><a href="#props" class="header-anchor">#</a> Props</h2> <h3 id="track"><a href="#track" class="header-anchor">#</a> <code>track</code></h3> <ul><li><strong>Input Type:</strong> <code>Boolean</code>, <code>Function</code></li> <li><strong>Default:</strong> <code>true</code></li></ul> <p>By default detected QR codes are visually highlighted. A transparent canvas overlays the camera stream. When a QR code is detected, its location is painted to the canvas. You can enable/disable this feature by passing <code>true</code>/<code>false</code> via the <code>track</code> prop. If tracking is disabled the camera stream is scanned much less frequently. So if you encounter performance problems on your target device, this might help.</p> <p>You can also pass a function with <code>track</code> to customize the way the location is painted. This function is called to produce each frame. It receives the location object as the first argument and a <code>CanvasRenderingContext2D</code> instance as the second argument.</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Avoid access to reactive properties in this function (like stuff in <code>data</code>, <code>computed</code> or your Vuex store). The function is called several times a second and might cause memory leaks. To be safe don't access <code>this</code> at all.</p></div> <p>Say you want to paint in a different color that better fits your overall page theme.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span> <span class="token attr-name">:track</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>repaint<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">repaint</span> <span class="token punctuation">(</span><span class="token parameter">location<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>
      topLeftCorner<span class="token punctuation">,</span>
      topRightCorner<span class="token punctuation">,</span>
      bottomLeftCorner<span class="token punctuation">,</span>
      bottomRightCorner<span class="token punctuation">,</span>
      <span class="token comment">// topLeftFinderPattern,</span>
      <span class="token comment">// topRightFinderPattern,</span>
      <span class="token comment">// bottomLeftFinderPattern</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> location

    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'blue'</span> <span class="token comment">// instead of red</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>topLeftCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> topLeftCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>bottomLeftCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bottomLeftCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>bottomRightCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bottomRightCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>topRightCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> topRightCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>topLeftCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> topLeftCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="camera"><a href="#camera" class="header-anchor">#</a> <code>camera</code></h3> <ul><li><strong>Input Type:</strong> <code>String</code></li> <li><strong>Default:</strong> <code>auto</code></li> <li><strong>Valid Inputs:</strong> <code>auto</code>, <code>rear</code>, <code>front</code>, <code>off</code></li></ul> <p>With the <code>camera</code> prop you can control which camera to access on the users device.</p> <ul><li>Use <code>front</code> or <code>rear</code> to force request the front or rear camera respectively.</li> <li>If you choose <code>auto</code> the rear camera is requested by default.
But if a device like a laptop has only a front camera installed, <code>auto</code> will fallback to that.</li> <li>Use <code>off</code> to not request a camera at all or in other words: turn the camera off.</li></ul> <p>Every time the camera prop is modified, a new camera stream is requested so the <code>init</code> event is emitted again.
That way you can catch errors.
For example when the front camera is requested on a device that doesn't have one.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span> <span class="token attr-name">:camera</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>camera<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@init</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onCameraChange<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    camera<span class="token operator">:</span> <span class="token string">'auto'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">startFrontCamera</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>camera <span class="token operator">=</span> <span class="token string">'front'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">onCameraChange</span> <span class="token punctuation">(</span><span class="token parameter">promise</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    promise<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> cameraMissingError <span class="token operator">=</span> error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'OverconstrainedError'</span>
      <span class="token keyword">const</span> triedFrontCamera <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>camera <span class="token operator">===</span> <span class="token string">'front'</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>triedFrontCamera <span class="token operator">&amp;&amp;</span> cameraMissingError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// no front camera on this device</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="torch"><a href="#torch" class="header-anchor">#</a> <code>torch</code></h3> <ul><li><strong>Input Type:</strong> <code>Boolean</code></li> <li><strong>Default:</strong> <code>false</code></li></ul> <p>With the <code>torch</code> prop you can turn a devices flashlight on/off.
This is not consistently supported by all devices and browsers.
Support can even vary on the same device with the same browser.
For example the rear camera often has a flashlight but the front camera doesn't.
We can only tell if flashlight control is supported once the camera is loaded and the <code>init</code> event has been emitted.
At the moment, <code>torch</code> silently fails on unsupported devices.
But from the <code>init</code> events payload you can access the <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack/getCapabilities" target="_blank" rel="noopener noreferrer">MediaTrackCapabilities<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> object.
This will tell you whether or not <code>torch</code> is supported.</p> <p>Due to API limitations the camera stream must be reloaded when turning the torch on/off.
That means the <code>init</code> event will be emitted again.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span> <span class="token attr-name">:torch</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@init</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onInit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">onInit</span> <span class="token punctuation">(</span><span class="token parameter">promise</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> capabilities <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> promise

    <span class="token keyword">const</span> <span class="token constant">TORCH_IS_SUPPORTED</span> <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>capabilities<span class="token punctuation">.</span>torch
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="worker"><a href="#worker" class="header-anchor">#</a> <code>worker</code> <span class="badge error" style="vertical-align:top;" data-v-15b7b770>experimental</span></h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>So far <em>vue-qrcode-reader</em> could only process QR codes.
However, many people requested support for different code types
(bar codes, data matrix, color inverted QR codes, ...) though.
With this prop we try to meet these demands.</p> <p>Please share your successful or unsuccessful implementation attempts at
<a href="https://github.com/gruhn/vue-qrcode-reader/issues/109" target="_blank" rel="noopener noreferrer">#109<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
Your feedback is greatly appreciated.</p></div> <p>By default, <em>QrcodeStream</em> will only detect QR codes.
Processing image data is expensive so a web worker is doing the heavy lifting.
Because the worker is the only QR code specific part of the library though,
you can replace the default worker and get a component that can scan whatever you want.</p> <p>First of all you need to create a custom worker class:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyWorkerClass</span> <span class="token keyword">extends</span> <span class="token class-name">Worker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;path/to/worker.js&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(Internally, <em>vue-qrcode-reader</em> leverages <a href="https://github.com/webpack-contrib/worker-loader" target="_blank" rel="noopener noreferrer">worker-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
to makes this slightly more convenient)</p> <p>To get your <code>worker.js</code> right, check out <a href="https://github.com/gruhn/vue-qrcode-reader/blob/91ee3fc8bf2f7fab96ac3f0a5d84d2d4c09b012f/src/worker/jsqr.js" target="_blank" rel="noopener noreferrer">the default implementation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Now, pass the worker class via the <code>worker</code> prop.
Don't pass a class instance, we need the class itself!</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span> <span class="token attr-name">:worker</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Worker<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    Worker<span class="token operator">:</span> MyWorkerClass <span class="token comment">// Don't do: new MyWorkerClass()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>QrcodeCapture</code> and <code>QrcodeDropZone</code> too expose the <code>worker</code> prop.
Dedicated API documentation is missing so far but usage should be similar.</p></div> <h2 id="slots"><a href="#slots" class="header-anchor">#</a> Slots</h2> <h3 id="default"><a href="#default" class="header-anchor">#</a> default</h3> <p>Any distributed content overlays the camera stream, wrapped in a <code>position: absolute</code> container.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>stuff here overlays the camera stream<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>qrcode-stream</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/vue-qrcode-reader/api/QrcodeDropZone.html">
        QrcodeDropZone
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-qrcode-reader/assets/js/app.ac04d667.js" defer></script><script src="/vue-qrcode-reader/assets/js/4.e0add0b8.js" defer></script><script src="/vue-qrcode-reader/assets/js/21.7067306f.js" defer></script><script src="/vue-qrcode-reader/assets/js/13.7bcefd54.js" defer></script>
  </body>
</html>
